{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\azeve\\\\OneDrive\\\\\\xC1rea de Trabalho\\\\fullstack-app\\\\client\\\\src\\\\components\\\\RenderProducts.js\",\n  _s = $RefreshSig$();\nimport { useEffect } from \"react\";\nimport render from \"../utils/render\";\nimport deleteProduct from \"../utils/deleteProduct\";\nimport getProducts from \"../utils/getProducts\";\nimport newProduct from '../utils/newProduct';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function RenderProducts() {\n  _s();\n  useEffect(() => {\n    const token = localStorage.getItem('jwt');\n    if (!token) {\n      navigate('/login');\n      return null;\n    } else {\n      const user = jwt.decode(token);\n      console.log(user);\n      if (!user) {\n        localStorage.removeItem('jwt');\n        navigate('/login');\n      }\n    }\n    const display = document.querySelector('.display');\n    getProducts().then(products => {\n      render(products, display, newProduct);\n    });\n    display.addEventListener('click', async e => {\n      e.preventDefault();\n      const row = e.target.closest('[data-id]');\n      const id = row.dataset.id;\n      if (e.target.classList.contains('botao-simples--excluir')) {\n        const res = await deleteProduct(id);\n        console.log(res);\n        if (res.message == 'deleted!') {\n          row.remove();\n          window.alert('Produto deletado com sucesso!');\n        }\n      } else {\n        if (e.target.classList.contains('botao-simples--editar')) {\n          window.location.href = `../editar?id=${id}`;\n        }\n      }\n    });\n  }, [navigate]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"table\", {\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: \"Cod.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: \"Descri\\xE7\\xE3o\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: \"Tamanho\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: \"A\\xE7\\xE3o\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        className: \"display\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n}\n_s(RenderProducts, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n_c = RenderProducts;\nvar _c;\n$RefreshReg$(_c, \"RenderProducts\");","map":{"version":3,"names":["useEffect","render","deleteProduct","getProducts","newProduct","jsxDEV","_jsxDEV","Fragment","_Fragment","RenderProducts","_s","token","localStorage","getItem","navigate","user","jwt","decode","console","log","removeItem","display","document","querySelector","then","products","addEventListener","e","preventDefault","row","target","closest","id","dataset","classList","contains","res","message","remove","window","alert","location","href","children","fileName","_jsxFileName","lineNumber","columnNumber","className","_c","$RefreshReg$"],"sources":["C:/Users/azeve/OneDrive/Área de Trabalho/fullstack-app/client/src/components/RenderProducts.js"],"sourcesContent":["import { useEffect } from \"react\"\r\nimport render from \"../utils/render\"\r\nimport deleteProduct from \"../utils/deleteProduct\"\r\nimport getProducts from \"../utils/getProducts\"\r\nimport newProduct from '../utils/newProduct'\r\n\r\nexport default function RenderProducts() {\r\n    \r\n    useEffect(() => {\r\n        const token = localStorage.getItem('jwt')\r\n        if (!token) {\r\n            navigate('/login')\r\n            return null\r\n        } else {\r\n            const user = jwt.decode(token)\r\n            console.log(user)\r\n            if (!user) {\r\n                localStorage.removeItem('jwt')\r\n                navigate('/login')    \r\n            }\r\n        }\r\n\r\n        const display = document.querySelector('.display')\r\n        \r\n        getProducts().then(products => {\r\n            render(products, display, newProduct)\r\n        })\r\n\r\n        display.addEventListener('click', async (e) => {\r\n            e.preventDefault()\r\n        \r\n            const row = e.target.closest('[data-id]')\r\n            const id = row.dataset.id\r\n            \r\n            if (e.target.classList.contains('botao-simples--excluir')) {\r\n                const res = await deleteProduct(id)\r\n                console.log(res)\r\n                \r\n                if (res.message == 'deleted!') {\r\n                        row.remove()\r\n                        window.alert('Produto deletado com sucesso!')\r\n                    }\r\n                } \r\n                else {\r\n                    if (e.target.classList.contains('botao-simples--editar')) {\r\n                        window.location.href = `../editar?id=${id}`\r\n                    }\r\n            }\r\n        })\r\n    },[navigate])\r\n\r\n    return (\r\n        <>\r\n            <table>\r\n                <thead>\r\n                    <tr>\r\n                        <td>Cod.</td>\r\n                        <td>Descrição</td>\r\n                        <td>Tamanho</td>\r\n                        <td>Ação</td>\r\n                    </tr>\r\n                </thead>\r\n                <tbody className=\"display\">\r\n                </tbody>\r\n            </table>\r\n        </>\r\n    )\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}