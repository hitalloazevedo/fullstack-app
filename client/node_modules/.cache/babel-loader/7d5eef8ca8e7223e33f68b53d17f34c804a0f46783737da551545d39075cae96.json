{"ast":null,"code":"import{useState}from'react';import LoginForm from'../components/LoginForm';import{useNavigate}from'react-router';import{jsx as _jsx}from\"react/jsx-runtime\";const url='https://api-bfk4.onrender.com';export default function Login(){const[email,setEmail]=useState('');const[password,setPassword]=useState('');const navigate=useNavigate();async function loginUser(e){e.preventDefault();const response=await fetch(\"\".concat(url,\"/login\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({email,password})});const data=await response.json();if(data.user){localStorage.setItem('jwt',data.jwt);navigate('/dashboard');}else{console.log(data);}}return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(LoginForm,{onSubmit:loginUser,setEmail:setEmail,setPassword:setPassword})});}","map":{"version":3,"names":["useState","LoginForm","useNavigate","jsx","_jsx","url","Login","email","setEmail","password","setPassword","navigate","loginUser","e","preventDefault","response","fetch","concat","method","headers","body","JSON","stringify","data","json","user","localStorage","setItem","jwt","console","log","children","onSubmit"],"sources":["C:/Users/azeve/OneDrive/√Årea de Trabalho/fullstack-app/client/src/routes/Login.js"],"sourcesContent":["import { useState } from 'react'\r\nimport LoginForm from '../components/LoginForm'\r\nimport { useNavigate } from 'react-router'\r\n\r\nconst url = 'https://api-bfk4.onrender.com'\r\n\r\nexport default function Login() {\r\n    const [email, setEmail] = useState('')\r\n    const [password, setPassword] = useState('')\r\n\r\n    const navigate = useNavigate()\r\n\r\n    async function loginUser(e) {\r\n        e.preventDefault()\r\n\r\n        const response = await fetch(`${url}/login`, {\r\n            method: 'POST',\r\n            headers : {'Content-Type': 'application/json'},\r\n            body: JSON.stringify({\r\n                email,\r\n                password\r\n            })\r\n        })\r\n\r\n        const data = await response.json()\r\n\r\n        if (data.user) {\r\n            localStorage.setItem('jwt', data.jwt)\r\n            navigate('/dashboard')\r\n        } else {\r\n            console.log(data)\r\n        }\r\n    }\r\n\r\n    return <div>\r\n        <LoginForm onSubmit={loginUser} setEmail={setEmail} setPassword={setPassword}></LoginForm>\r\n    </div>\r\n}"],"mappings":"AAAA,OAASA,QAAQ,KAAQ,OAAO,CAChC,MAAO,CAAAC,SAAS,KAAM,yBAAyB,CAC/C,OAASC,WAAW,KAAQ,cAAc,QAAAC,GAAA,IAAAC,IAAA,yBAE1C,KAAM,CAAAC,GAAG,CAAG,+BAA+B,CAE3C,cAAe,SAAS,CAAAC,KAAKA,CAAA,CAAG,CAC5B,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGR,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACS,QAAQ,CAAEC,WAAW,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CAE5C,KAAM,CAAAW,QAAQ,CAAGT,WAAW,CAAC,CAAC,CAE9B,cAAe,CAAAU,SAASA,CAACC,CAAC,CAAE,CACxBA,CAAC,CAACC,cAAc,CAAC,CAAC,CAElB,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,IAAAC,MAAA,CAAIZ,GAAG,WAAU,CACzCa,MAAM,CAAE,MAAM,CACdC,OAAO,CAAG,CAAC,cAAc,CAAE,kBAAkB,CAAC,CAC9CC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CACjBf,KAAK,CACLE,QACJ,CAAC,CACL,CAAC,CAAC,CAEF,KAAM,CAAAc,IAAI,CAAG,KAAM,CAAAR,QAAQ,CAACS,IAAI,CAAC,CAAC,CAElC,GAAID,IAAI,CAACE,IAAI,CAAE,CACXC,YAAY,CAACC,OAAO,CAAC,KAAK,CAAEJ,IAAI,CAACK,GAAG,CAAC,CACrCjB,QAAQ,CAAC,YAAY,CAAC,CAC1B,CAAC,IAAM,CACHkB,OAAO,CAACC,GAAG,CAACP,IAAI,CAAC,CACrB,CACJ,CAEA,mBAAOnB,IAAA,QAAA2B,QAAA,cACH3B,IAAA,CAACH,SAAS,EAAC+B,QAAQ,CAAEpB,SAAU,CAACJ,QAAQ,CAAEA,QAAS,CAACE,WAAW,CAAEA,WAAY,CAAY,CAAC,CACzF,CAAC,CACV"},"metadata":{},"sourceType":"module","externalDependencies":[]}