{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\azeve\\\\OneDrive\\\\\\xC1rea de Trabalho\\\\fullstack-app\\\\client\\\\src\\\\components\\\\RenderProducts.js\",\n  _s = $RefreshSig$();\nimport { useEffect } from \"react\";\nimport render from \"../utils/render\";\nimport deleteProduct from \"../utils/deleteProduct\";\nimport getProducts from \"../utils/getProducts\";\nimport newProduct from '../utils/newProduct';\nimport { useNavigate } from \"react-router\";\nimport jwt from 'jsonwebtoken';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function RenderProducts() {\n  _s();\n  const navigate = useNavigate();\n  useEffect(() => {\n    const token = localStorage.getItem('jwt');\n    if (!token) {\n      navigate('/login');\n    } else {\n      const user = jwt.decode(token);\n      console.log(user);\n      const display = document.querySelector('.display');\n      getProducts().then(products => {\n        render(products, display, newProduct);\n      });\n      display.addEventListener('click', async e => {\n        e.preventDefault();\n        const row = e.target.closest('[data-id]');\n        const id = row.dataset.id;\n        if (e.target.classList.contains('botao-simples--excluir')) {\n          const res = await deleteProduct(id);\n          console.log(res);\n          if (res.message == 'deleted!') {\n            row.remove();\n            window.alert('Produto deletado com sucesso!');\n          }\n        } else {\n          if (e.target.classList.contains('botao-simples--editar')) {\n            window.location.href = `../editar?id=${id}`;\n          }\n        }\n      });\n      if (!user) {\n        localStorage.removeItem('jwt');\n        navigate('/login');\n      }\n    }\n  }, [navigate]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"table\", {\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: \"Cod.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: \"Descri\\xE7\\xE3o\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: \"Tamanho\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: \"A\\xE7\\xE3o\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        className: \"display\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n}\n_s(RenderProducts, \"0pNeyzXk/ByIxyERsdaIrG6js9s=\", false, function () {\n  return [useNavigate];\n});\n_c = RenderProducts;\nvar _c;\n$RefreshReg$(_c, \"RenderProducts\");","map":{"version":3,"names":["useEffect","render","deleteProduct","getProducts","newProduct","useNavigate","jwt","jsxDEV","_jsxDEV","Fragment","_Fragment","RenderProducts","_s","navigate","token","localStorage","getItem","user","decode","console","log","display","document","querySelector","then","products","addEventListener","e","preventDefault","row","target","closest","id","dataset","classList","contains","res","message","remove","window","alert","location","href","removeItem","children","fileName","_jsxFileName","lineNumber","columnNumber","className","_c","$RefreshReg$"],"sources":["C:/Users/azeve/OneDrive/Área de Trabalho/fullstack-app/client/src/components/RenderProducts.js"],"sourcesContent":["import { useEffect } from \"react\"\r\nimport render from \"../utils/render\"\r\nimport deleteProduct from \"../utils/deleteProduct\"\r\nimport getProducts from \"../utils/getProducts\"\r\nimport newProduct from '../utils/newProduct'\r\nimport { useNavigate } from \"react-router\"\r\nimport jwt from 'jsonwebtoken'\r\n\r\nexport default function RenderProducts() {\r\n\r\n    const navigate = useNavigate()\r\n    \r\n    useEffect(() => {\r\n        const token = localStorage.getItem('jwt')\r\n        if (!token) {\r\n            navigate('/login')\r\n        } else {\r\n            const user = jwt.decode(token)\r\n            console.log(user)\r\n\r\n            const display = document.querySelector('.display')\r\n        \r\n            getProducts().then((products) => {\r\n                render(products, display, newProduct)\r\n            })\r\n    \r\n            display.addEventListener('click', async (e) => {\r\n                e.preventDefault()\r\n            \r\n                const row = e.target.closest('[data-id]')\r\n                const id = row.dataset.id\r\n                \r\n                if (e.target.classList.contains('botao-simples--excluir')) {\r\n                    const res = await deleteProduct(id)\r\n                    console.log(res)\r\n                    \r\n                    if (res.message == 'deleted!') {\r\n                            row.remove()\r\n                            window.alert('Produto deletado com sucesso!')\r\n                        }\r\n                    } \r\n                    else {\r\n                        if (e.target.classList.contains('botao-simples--editar')) {\r\n                            window.location.href = `../editar?id=${id}`\r\n                        }\r\n                }\r\n            })\r\n\r\n            if (!user) {\r\n                localStorage.removeItem('jwt')\r\n                navigate('/login')    \r\n            }\r\n        }\r\n    },[navigate])\r\n\r\n    return (\r\n        <>\r\n            <table>\r\n                <thead>\r\n                    <tr>\r\n                        <td>Cod.</td>\r\n                        <td>Descrição</td>\r\n                        <td>Tamanho</td>\r\n                        <td>Ação</td>\r\n                    </tr>\r\n                </thead>\r\n                <tbody className=\"display\">\r\n                </tbody>\r\n            </table>\r\n        </>\r\n    )\r\n}"],"mappings":";;AAAA,SAASA,SAAS,QAAQ,OAAO;AACjC,OAAOC,MAAM,MAAM,iBAAiB;AACpC,OAAOC,aAAa,MAAM,wBAAwB;AAClD,OAAOC,WAAW,MAAM,sBAAsB;AAC9C,OAAOC,UAAU,MAAM,qBAAqB;AAC5C,SAASC,WAAW,QAAQ,cAAc;AAC1C,OAAOC,GAAG,MAAM,cAAc;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAE9B,eAAe,SAASC,cAAcA,CAAA,EAAG;EAAAC,EAAA;EAErC,MAAMC,QAAQ,GAAGR,WAAW,CAAC,CAAC;EAE9BL,SAAS,CAAC,MAAM;IACZ,MAAMc,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,KAAK,CAAC;IACzC,IAAI,CAACF,KAAK,EAAE;MACRD,QAAQ,CAAC,QAAQ,CAAC;IACtB,CAAC,MAAM;MACH,MAAMI,IAAI,GAAGX,GAAG,CAACY,MAAM,CAACJ,KAAK,CAAC;MAC9BK,OAAO,CAACC,GAAG,CAACH,IAAI,CAAC;MAEjB,MAAMI,OAAO,GAAGC,QAAQ,CAACC,aAAa,CAAC,UAAU,CAAC;MAElDpB,WAAW,CAAC,CAAC,CAACqB,IAAI,CAAEC,QAAQ,IAAK;QAC7BxB,MAAM,CAACwB,QAAQ,EAAEJ,OAAO,EAAEjB,UAAU,CAAC;MACzC,CAAC,CAAC;MAEFiB,OAAO,CAACK,gBAAgB,CAAC,OAAO,EAAE,MAAOC,CAAC,IAAK;QAC3CA,CAAC,CAACC,cAAc,CAAC,CAAC;QAElB,MAAMC,GAAG,GAAGF,CAAC,CAACG,MAAM,CAACC,OAAO,CAAC,WAAW,CAAC;QACzC,MAAMC,EAAE,GAAGH,GAAG,CAACI,OAAO,CAACD,EAAE;QAEzB,IAAIL,CAAC,CAACG,MAAM,CAACI,SAAS,CAACC,QAAQ,CAAC,wBAAwB,CAAC,EAAE;UACvD,MAAMC,GAAG,GAAG,MAAMlC,aAAa,CAAC8B,EAAE,CAAC;UACnCb,OAAO,CAACC,GAAG,CAACgB,GAAG,CAAC;UAEhB,IAAIA,GAAG,CAACC,OAAO,IAAI,UAAU,EAAE;YACvBR,GAAG,CAACS,MAAM,CAAC,CAAC;YACZC,MAAM,CAACC,KAAK,CAAC,+BAA+B,CAAC;UACjD;QACJ,CAAC,MACI;UACD,IAAIb,CAAC,CAACG,MAAM,CAACI,SAAS,CAACC,QAAQ,CAAC,uBAAuB,CAAC,EAAE;YACtDI,MAAM,CAACE,QAAQ,CAACC,IAAI,GAAI,gBAAeV,EAAG,EAAC;UAC/C;QACR;MACJ,CAAC,CAAC;MAEF,IAAI,CAACf,IAAI,EAAE;QACPF,YAAY,CAAC4B,UAAU,CAAC,KAAK,CAAC;QAC9B9B,QAAQ,CAAC,QAAQ,CAAC;MACtB;IACJ;EACJ,CAAC,EAAC,CAACA,QAAQ,CAAC,CAAC;EAEb,oBACIL,OAAA,CAAAE,SAAA;IAAAkC,QAAA,eACIpC,OAAA;MAAAoC,QAAA,gBACIpC,OAAA;QAAAoC,QAAA,eACIpC,OAAA;UAAAoC,QAAA,gBACIpC,OAAA;YAAAoC,QAAA,EAAI;UAAI;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACbxC,OAAA;YAAAoC,QAAA,EAAI;UAAS;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAClBxC,OAAA;YAAAoC,QAAA,EAAI;UAAO;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAChBxC,OAAA;YAAAoC,QAAA,EAAI;UAAI;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACb;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACF,CAAC,eACRxC,OAAA;QAAOyC,SAAS,EAAC;MAAS;QAAAJ,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACnB,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL;EAAC,gBACV,CAAC;AAEX;AAACpC,EAAA,CA/DuBD,cAAc;EAAA,QAEjBN,WAAW;AAAA;AAAA6C,EAAA,GAFRvC,cAAc;AAAA,IAAAuC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}