{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\azeve\\\\OneDrive\\\\\\xC1rea de Trabalho\\\\fullstack-app\\\\client\\\\src\\\\components\\\\RenderProducts.js\",\n  _s = $RefreshSig$();\nimport { useEffect } from \"react\";\nimport render from \"../utils/render\";\nimport deleteProduct from \"../utils/deleteProduct\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function RenderProducts() {\n  _s();\n  function newProduct(cod, description, size) {\n    const newRow = document.createElement('tr');\n    const structure = `\n        <tr>\n        <td data-cod>${cod}</td>\n        <td data-description>${description}</td>\n        <td data-size>${size}</td>\n        <td data-control>\n        <ul class=\"tabela__botoes-controle\">\n        <li><a href=\"../pages/editar.html?id=${cod}\" class=\"botao-simples botao-simples--editar\">Editar</a></li>\n        <li><button class=\"botao-simples botao-simples--excluir\" type=\"button\">Excluir</button></li>\n        </ul>\n        </td>\n        </tr>\n        `;\n    newRow.innerHTML = structure;\n    newRow.dataset.id = cod;\n    return newRow;\n  }\n  async function getProducts() {\n    const res = await fetch('http://localhost:3333/produtos', {\n      headers: {\n        cookies: localStorage.getItem('jwt')\n      },\n      credentials: 'include'\n    });\n    const body = await res.json();\n    return body;\n  }\n  useEffect(() => {\n    const display = document.querySelector('.display');\n    getProducts().then(products => {\n      render(products, display, newProduct);\n    });\n    display.addEventListener('click', async e => {\n      e.preventDefault();\n      const row = e.target.closest('[data-id]');\n      const id = row.dataset.id;\n      if (e.target.classList.contains('botao-simples--excluir')) {\n        const res = await deleteProduct(id);\n        if (res.message == 'deleted!') {\n          row.remove();\n          window.alert('Produto deletado com sucesso!');\n        }\n      } else {\n        if (e.target.classList.contains('botao-simples--editar')) {\n          window.location.href = `../pages/editar.html?id=${id}`;\n        }\n      }\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"table\", {\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: \"Cod.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: \"Descri\\xE7\\xE3o\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: \"Tamanho\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: \"A\\xE7\\xE3o\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        className: \"display\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n}\n_s(RenderProducts, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n_c = RenderProducts;\nvar _c;\n$RefreshReg$(_c, \"RenderProducts\");","map":{"version":3,"names":["useEffect","render","deleteProduct","jsxDEV","_jsxDEV","Fragment","_Fragment","RenderProducts","_s","newProduct","cod","description","size","newRow","document","createElement","structure","innerHTML","dataset","id","getProducts","res","fetch","headers","cookies","localStorage","getItem","credentials","body","json","display","querySelector","then","products","addEventListener","e","preventDefault","row","target","closest","classList","contains","message","remove","window","alert","location","href","children","fileName","_jsxFileName","lineNumber","columnNumber","className","_c","$RefreshReg$"],"sources":["C:/Users/azeve/OneDrive/Área de Trabalho/fullstack-app/client/src/components/RenderProducts.js"],"sourcesContent":["import { useEffect } from \"react\"\r\nimport render from \"../utils/render\"\r\nimport deleteProduct from \"../utils/deleteProduct\"\r\n\r\nexport default function RenderProducts() {\r\n\r\n    function newProduct(cod, description, size){\r\n        const newRow = document.createElement('tr')\r\n        const structure = `\r\n        <tr>\r\n        <td data-cod>${cod}</td>\r\n        <td data-description>${description}</td>\r\n        <td data-size>${size}</td>\r\n        <td data-control>\r\n        <ul class=\"tabela__botoes-controle\">\r\n        <li><a href=\"../pages/editar.html?id=${cod}\" class=\"botao-simples botao-simples--editar\">Editar</a></li>\r\n        <li><button class=\"botao-simples botao-simples--excluir\" type=\"button\">Excluir</button></li>\r\n        </ul>\r\n        </td>\r\n        </tr>\r\n        ` \r\n        newRow.innerHTML = structure\r\n        newRow.dataset.id = cod\r\n        return newRow\r\n    }\r\n\r\n    async function getProducts() {\r\n        const res = await fetch('http://localhost:3333/produtos', {\r\n            headers: {\r\n                cookies: localStorage.getItem('jwt'),\r\n            },\r\n            credentials: 'include'\r\n            })\r\n    \r\n        const body = await res.json()\r\n        return body\r\n    }\r\n    \r\n    useEffect(() => {\r\n        const display = document.querySelector('.display')\r\n        \r\n        getProducts().then(products => {\r\n            render(products, display, newProduct)\r\n        })\r\n\r\n        display.addEventListener('click', async (e) => {\r\n            e.preventDefault()\r\n        \r\n            const row = e.target.closest('[data-id]')\r\n            const id = row.dataset.id\r\n        \r\n            if (e.target.classList.contains('botao-simples--excluir')) {\r\n                const res = await deleteProduct(id)\r\n                \r\n                if (res.message == 'deleted!') {\r\n                        row.remove()\r\n                        window.alert('Produto deletado com sucesso!')\r\n                    }\r\n        \r\n                } \r\n                else {\r\n                    if (e.target.classList.contains('botao-simples--editar')) {\r\n                        window.location.href = `../pages/editar.html?id=${id}`\r\n                    }\r\n            }\r\n        })\r\n    },[])\r\n\r\n    return (\r\n        <>\r\n            <table>\r\n                <thead>\r\n                    <tr>\r\n                        <td>Cod.</td>\r\n                        <td>Descrição</td>\r\n                        <td>Tamanho</td>\r\n                        <td>Ação</td>\r\n                    </tr>\r\n                </thead>\r\n                <tbody className=\"display\">\r\n                </tbody>\r\n            </table>\r\n        </>\r\n    )\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}